{"version":3,"sources":["../../../src/infrastructure/aws/s3.provider.ts"],"sourcesContent":["import { ConfigModule, ConfigService } from '@nestjs/config';\n\nimport { S3Client } from '@aws-sdk/client-s3';\n\nexport const S3Provider = [\n  {\n    provide: 'S3_CLIENT',\n    import: [ConfigModule],\n    inject: [ConfigService],\n    useFactory: (configService: ConfigService) => {\n      return new S3Client({\n        region: configService.get('AWS_S3_REGION'),\n        credentials: {\n          accessKeyId: configService.getOrThrow<string>('AWS_S3_ACCESS_KEY'),\n          secretAccessKey: configService.getOrThrow<string>('AWS_S3_SECRET_KEY'),\n        },\n      });\n    },\n  },\n];\n"],"names":["S3Provider","provide","import","ConfigModule","inject","ConfigService","useFactory","configService","S3Client","region","get","credentials","accessKeyId","getOrThrow","secretAccessKey"],"mappings":";;;;+BAIaA;;;eAAAA;;;wBAJ+B;0BAEnB;AAElB,MAAMA,aAAa;IACxB;QACEC,SAAS;QACTC,QAAQ;YAACC,oBAAY;SAAC;QACtBC,QAAQ;YAACC,qBAAa;SAAC;QACvBC,YAAY,CAACC;YACX,OAAO,IAAIC,kBAAQ,CAAC;gBAClBC,QAAQF,cAAcG,GAAG,CAAC;gBAC1BC,aAAa;oBACXC,aAAaL,cAAcM,UAAU,CAAS;oBAC9CC,iBAAiBP,cAAcM,UAAU,CAAS;gBACpD;YACF;QACF;IACF;CACD"}