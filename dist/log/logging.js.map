{"version":3,"sources":["../../src/log/logging.ts"],"sourcesContent":["import { WinstonModule } from 'nest-winston';\nimport * as winston from 'winston';\n\nconst colors = {\n  error: 'red',\n  warn: 'yellow',\n  info: 'green',\n  http: 'magenta',\n  debug: 'blue',\n};\n\nwinston.addColors(colors);\n\nexport function logging() {\n  const nodeEnv = process.env.NODE_ENV || 'local';\n\n  const format = ['development', 'test'].includes(nodeEnv)\n    ? winston.format.combine(\n        winston.format.colorize({ all: true }),\n        winston.format.timestamp(),\n        winston.format.ms(),\n        winston.format.printf(({ timestamp, level, message }) => {\n          return `${timestamp} ${level}: ${message}`;\n        }),\n      )\n    : winston.format.combine(winston.format.timestamp(), winston.format.ms(), winston.format.json());\n\n  return WinstonModule.createLogger({\n    transports: [\n      new winston.transports.Console({\n        format,\n      }),\n    ],\n  });\n}\n"],"names":["logging","colors","error","warn","info","http","debug","winston","addColors","nodeEnv","process","env","NODE_ENV","format","includes","combine","colorize","all","timestamp","ms","printf","level","message","json","WinstonModule","createLogger","transports","Console"],"mappings":";;;;+BAagBA;;;eAAAA;;;6BAbc;iEACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEzB,MAAMC,SAAS;IACbC,OAAO;IACPC,MAAM;IACNC,MAAM;IACNC,MAAM;IACNC,OAAO;AACT;AAEAC,SAAQC,SAAS,CAACP;AAEX,SAASD;IACd,MAAMS,UAAUC,QAAQC,GAAG,CAACC,QAAQ,IAAI;IAExC,MAAMC,SAAS;QAAC;QAAe;KAAO,CAACC,QAAQ,CAACL,WAC5CF,SAAQM,MAAM,CAACE,OAAO,CACpBR,SAAQM,MAAM,CAACG,QAAQ,CAAC;QAAEC,KAAK;IAAK,IACpCV,SAAQM,MAAM,CAACK,SAAS,IACxBX,SAAQM,MAAM,CAACM,EAAE,IACjBZ,SAAQM,MAAM,CAACO,MAAM,CAAC,CAAC,EAAEF,SAAS,EAAEG,KAAK,EAAEC,OAAO,EAAE;QAClD,OAAO,GAAGJ,UAAU,CAAC,EAAEG,MAAM,EAAE,EAAEC,SAAS;IAC5C,MAEFf,SAAQM,MAAM,CAACE,OAAO,CAACR,SAAQM,MAAM,CAACK,SAAS,IAAIX,SAAQM,MAAM,CAACM,EAAE,IAAIZ,SAAQM,MAAM,CAACU,IAAI;IAE/F,OAAOC,0BAAa,CAACC,YAAY,CAAC;QAChCC,YAAY;YACV,IAAInB,SAAQmB,UAAU,CAACC,OAAO,CAAC;gBAC7Bd;YACF;SACD;IACH;AACF"}