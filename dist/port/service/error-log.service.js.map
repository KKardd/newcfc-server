{"version":3,"sources":["../../../src/port/service/error-log.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\n\nimport { plainToInstance } from 'class-transformer';\n\nimport { PaginationResponse } from '@/adapter/inbound/dto/common/pagination.dto';\nimport { Pagination, PaginationQuery } from '@/adapter/inbound/dto/pagination';\nimport { SearchErrorLog } from '@/adapter/inbound/dto/request/errorlog/search-errorlog';\nimport { ErrorLogResponseDto } from '@/adapter/inbound/dto/response/errorlog/errorlog-response.dto';\nimport { ErrorLog } from '@/domain/entity/error-log.entity';\nimport { ErrorLogServiceInPort } from '@/port/inbound/error-log-service.in-port';\nimport { ErrorLogServiceOutPort } from '@/port/outbound/error-log-service.out-port';\nimport { classTransformDefaultOptions } from '@/validate/serialization';\n\n@Injectable()\nexport class ErrorLogService implements ErrorLogServiceInPort {\n  constructor(private readonly errorLogServiceOutPort: ErrorLogServiceOutPort) {}\n\n  async save(errorLog: ErrorLog): Promise<void> {\n    await this.errorLogServiceOutPort.save(errorLog);\n  }\n\n  async findAll(\n    searchErrorLog: SearchErrorLog,\n    paginationQuery: PaginationQuery,\n  ): Promise<PaginationResponse<ErrorLogResponseDto>> {\n    const [errorLogs, totalCount] = await this.errorLogServiceOutPort.findAll(searchErrorLog, paginationQuery);\n    const pagination = new Pagination({ totalCount, paginationQuery });\n\n    const errorlogs = plainToInstance(ErrorLogResponseDto, errorLogs, classTransformDefaultOptions);\n\n    return new PaginationResponse(errorlogs, pagination);\n  }\n}\n"],"names":["ErrorLogService","save","errorLog","errorLogServiceOutPort","findAll","searchErrorLog","paginationQuery","errorLogs","totalCount","pagination","Pagination","errorlogs","plainToInstance","ErrorLogResponseDto","classTransformDefaultOptions","PaginationResponse","constructor"],"mappings":";;;;+BAcaA;;;eAAAA;;;wBAdc;kCAEK;+BAEG;4BACS;qCAER;wCAGG;+BACM;;;;;;;;;;AAGtC,IAAA,AAAMA,kBAAN,MAAMA;IAGX,MAAMC,KAAKC,QAAkB,EAAiB;QAC5C,MAAM,IAAI,CAACC,sBAAsB,CAACF,IAAI,CAACC;IACzC;IAEA,MAAME,QACJC,cAA8B,EAC9BC,eAAgC,EACkB;QAClD,MAAM,CAACC,WAAWC,WAAW,GAAG,MAAM,IAAI,CAACL,sBAAsB,CAACC,OAAO,CAACC,gBAAgBC;QAC1F,MAAMG,aAAa,IAAIC,sBAAU,CAAC;YAAEF;YAAYF;QAAgB;QAEhE,MAAMK,YAAYC,IAAAA,iCAAe,EAACC,wCAAmB,EAAEN,WAAWO,2CAA4B;QAE9F,OAAO,IAAIC,iCAAkB,CAACJ,WAAWF;IAC3C;IAhBAO,YAAY,AAAiBb,sBAA8C,CAAE;aAAhDA,yBAAAA;IAAiD;AAiBhF"}