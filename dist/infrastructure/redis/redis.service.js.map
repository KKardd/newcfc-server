{"version":3,"sources":["../../../src/infrastructure/redis/redis.service.ts"],"sourcesContent":["import { Injectable, OnModuleDestroy, OnModuleInit } from '@nestjs/common';\n\nimport Redis from 'ioredis';\n\n@Injectable()\nexport class RedisService implements OnModuleInit, OnModuleDestroy {\n  private client: Redis;\n\n  onModuleInit() {\n    this.client = new Redis({\n      host: process.env.REDIS_HOST || 'localhost',\n      port: parseInt(process.env.REDIS_PORT || '6379'),\n    });\n  }\n\n  async onModuleDestroy() {\n    await this.client.quit();\n  }\n\n  getClient() {\n    return this.client;\n  }\n}\n"],"names":["RedisService","onModuleInit","client","Redis","host","process","env","REDIS_HOST","port","parseInt","REDIS_PORT","onModuleDestroy","quit","getClient"],"mappings":";;;;+BAKaA;;;eAAAA;;;wBAL6C;gEAExC;;;;;;;;;;;;AAGX,IAAA,AAAMA,eAAN,MAAMA;IAGXC,eAAe;QACb,IAAI,CAACC,MAAM,GAAG,IAAIC,gBAAK,CAAC;YACtBC,MAAMC,QAAQC,GAAG,CAACC,UAAU,IAAI;YAChCC,MAAMC,SAASJ,QAAQC,GAAG,CAACI,UAAU,IAAI;QAC3C;IACF;IAEA,MAAMC,kBAAkB;QACtB,MAAM,IAAI,CAACT,MAAM,CAACU,IAAI;IACxB;IAEAC,YAAY;QACV,OAAO,IAAI,CAACX,MAAM;IACpB;AACF"}